{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container py-5">

  <div class="card mx-auto" style="max-width:700px;">
    <div class="card-body">

      <h2 class="text-center mb-4">ðŸ§¾ Order Receipt</h2>
      <hr>

      <p><strong>Order ID:</strong> {{ order.id }}</p>
      <p><strong>Customer:</strong> {{ order.full_name }}</p>
      <p><strong>Email:</strong> {{ order.email }}</p>
      <p><strong>Address:</strong> {{ order.address }}</p>
      <p><strong>Payment Method:</strong> {{ order.payment_method }}</p>

      <hr>

      <h5>Items</h5>
      <ul class="list-group mb-3">
        {% for item in order_items %}
          <li class="list-group-item d-flex justify-content-between">
            {{ item.product.name }} (x{{ item.quantity }})
            <span>${{ item.total_price }}</span>
          </li>
        {% endfor %}
      </ul>

      <h5 class="text-right">Total: <strong>${{ order.total_amount }}</strong></h5>

      {% if order.payment_method == "QR" %}
      <hr>
      <h5>Transaction</h5>
      <img src="{% static 'img/QRcode.jpg' %}" width="200" class="border p-2">
      {% endif %}

      <div class="text-center mt-4">
        <button onclick="window.print()" class="btn btn-dark">
          ðŸ–¨ Print Receipt
        </button>
      </div>

    </div>
  </div>

</div>
{% endblock %}
